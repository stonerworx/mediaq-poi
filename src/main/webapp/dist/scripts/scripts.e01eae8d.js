!function(){"use strict";function a(a,b,c){a.when("/",{templateUrl:"views/main.html",controller:"MainController",controllerAs:"vm"}).when("/about",{templateUrl:"views/about.html",controller:"AboutController",controllerAs:"vm"}).otherwise({redirectTo:"/"}),b.configure({key:"AIzaSyDIZgzM1EkYHEhOJfcjUvm0ovOUczk7v8s",v:"3.17",libraries:"weather,geometry,visualization"}),c.debugEnabled(!0)}angular.module("mediaqPoi",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","uiGmapgoogle-maps","Showdown"]).config(a),a.$inject=["$routeProvider","uiGmapGoogleMapApiProvider","$logProvider"]}(),function(){"use strict";function a(a,b){var c=this;c.videos=[],c.activeVideo={path:[],visible:!1},c.setActive=function(a){c.activeVideo=a},a.then(function(a){c.map={center:{latitude:48.150529,longitude:11.595077},zoom:15},c.options={mapTypeControl:!1,zoomControl:!0,zoomControlOptions:{style:a.ZoomControlStyle.LARGE,position:a.ControlPosition.LEFT_CENTER},panControl:!1,streetViewControl:!1},b.getVideos().then(function(a){c.videos=[];for(var b in a){var d=a[b],e=[],f=0,g=0,h=d.trajectory.timeStampedPoints;h.sort(function(a,b){return a.frame<b.frame?-1:a.frame>b.frame?1:0});for(var i in h){var j=h[i];e.push({latitude:j.latitude,longitude:j.longitude}),0===f&&0===g&&(f=j.latitude,g=j.longitude)}d.latitude=f,d.longitude=g,d.path=e,d.pathStyle={id:b,path:e,stroke:{color:"#6060FB",weight:3},visible:!0},d.icon="http://maps.google.com/mapfiles/ms/icons/red-dot.png",d.click=function(a){c.setActive(a.model)},c.videos.push(d)}})})}angular.module("mediaqPoi").controller("MainController",["uiGmapGoogleMapApi","dataService",a])}(),function(){"use strict";function a(a,b){var c=this;a.get("views/readme.md").then(function(a){c.markdown=b.makeHtml(a.data)})}angular.module("mediaqPoi").controller("AboutController",["$http","$Showdown",a])}(),function(){"use strict";function a(a,b,c){function d(){var d=c.defer();return b.info("requesting videos."),a("/videos").get(function(a){b.info("videos received ("+a.videos.length+"). returning."),d.resolve(a.videos)}),d.promise}return{getVideos:d}}angular.module("mediaqPoi").factory("dataService",["$resource","$log","$q",a])}();